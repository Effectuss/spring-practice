## Типы загрузок данных: eager and lazy

### Eager
Нетерпеливая загрузка - при её использовании связанные сущности загружаются сразу вместе с за
грузкой основной сущности

Огромные предприятия и у нас работают десятки тысяч сотрудников в предприятиях,
и вот нам потребовалось загрузить информацию про 3 департамента и при Eger загрузки у нас
будет загруженны все связанные сущности.

### Lazy
Ленивая загрузка - при ее использовании связанные сущности НЕ загружаются сразу вместе с 
загрузкой основной сущности. Связаныые сущности загрузятся только при первом обращении к ним

### А что использовать
В большинтсве случае при большом количестве связанных сущностей целесообразнее 
использовать Lazy loading по следующим причинам:
- Lazy загрузка имеет лучший performance по сравнению с Eager загрузкой
- Иногда при загрузки основной сущности, нам просто не нужны связанные с ней сущности.
поэтому их загрузка - это лишняя работа.

### Fetch type
По дефолту есть дефолтные типы выборки
```
One-to-One - Eager (У работник 1 детальная информация)
One-to-Many - Lazy 
Many-to-One - Eager (У каждого работника, может быть только 1 департамент)
Many-to-Many - Lazy
```

Eager - делает один раз селект всего
Lazy - делает select только тогда как понадобится

```
При получении информации по Department будем выгружать всех employee
@OneToMany(fetch = FeatchType.EAGER)
```

Для получаения Lazy data нам нужна открытая сессия чтобы получить данные

Но мы можем подгрузить информацию о всех работниках, просто как бы закешировать до окончании сессии.